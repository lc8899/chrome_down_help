# Chrome浏览器插件开发

## 功能概述

1. 获取并显示页面选中的词作为关键词
2. 根据关键词搜索并获取下载链接

## 详细功能说明

### 1. 关键词获取与显示

- 用户在页面中选中文字
- 插件捕获选中的文字作为关键词
- 在插件界面中显示该关键词

### 2. 下载链接获取

下载链接获取过程分为两步：

#### 2.1 搜索页面链接获取

- 构造搜索URL：`https://clmclm.com/search-{关键词}-0-0-1.html`
{关键词}位置替换为选中或输入的关键词
- 使用XPath规则 `/html/body/div[1]/div[2]/div[2]/div[3]/div[1]/div[1]/h3/a` 获取搜索结果页面链接

#### 2.2 最终下载链接获取

- 打开2.1中获取的页面链接
- 迅雷下载使用XPath规则 `/html/body/div[1]/div[2]/div[4]/div/div[2]/div/a[2]` 获取最终下载地址
- 磁力下载使用XPath规则 `/html/body/div[1]/div[2]/div[4]/div/div[2]/div/a[1]` 获取最终下载地址
- 将上述两个方式下载地址设置为可复制的文本或可直接点击的下载按钮

## 用户界面

- 显示当前选中的关键词
- 提供"搜索"按钮，点击后执行下载链接获取过程
- 显示获取到的下载链接，并提供复制和直接下载的选项

## 技术要点

- 使用Chrome扩展API获取选中文本
- 实现网页内容抓取和XPath解析
- 处理跨域请求问题
- 设计简洁直观的用户界面

## 注意事项

- 确保插件遵守Chrome商店的政策和准则
- 注意处理网络请求的错误和异常情况
- 考虑添加用户设置，如自定义搜索网站等
- 实现适当的错误提示和加载状态显示

## 后续优化方向

- 支持多个下载源网站
- 添加下载历史记录功能
- 实现下载进度显示
- 提供简单的文件管理功能
